models:
- description: Customer data quality tests
  name: customers
  qc2plus_tests:
    level1:
    - unique:
        column_name: customer_id
        severity: critical
    - not_null:
        column_name: email
        severity: critical
    - email_format:
        column_name: email
        severity: medium
    - statistical_threshold:
        column_name: daily_registrations
        metric: count
        severity: medium
        threshold_type: relative
        threshold_value: 2.0
    level2:
      correlation_analysis:
        expected_correlation: 0.8
        threshold: 0.2
        variables:
        - daily_registrations
        - daily_activations
      distribution_analysis:
        metrics:
        - revenue
        - orders_count
        segments:
        - country
        - customer_type
      temporal_analysis:
        date_column: created_at
        metrics:
        - count
        - avg_revenue
        seasonality_check: true
