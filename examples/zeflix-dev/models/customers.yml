models:
  - name: customers
    description: "Comprehensive data quality plan for the customers model"
    
    sample:
      method: random
      percentage: 0.2
      partitioned_by: created_at
      partition_strategy: latest

    qc2plus_tests:
      level1:
        - unique:
            column_name: email
            severity: critical
            sample: null

        - email_format:
            column_name: email
            severity: high

        - range_check:
            column_name: age
            min_value: 18
            max_value: 120
            severity: medium

        - not_null:
            column_name: first_name
            severity: critical

        - not_null:
            column_name: country
            severity: high
        - not_null:
            column_name: created_at
            severity: medium

        - future_date:
            column_name: created_at
            severity: medium

        - freshness:
            column_name: created_at
            max_age_days: 30
            severity: high

        - accepted_values:
            column_name: status
            accepted_values: ['active', 'inactive']
            severity: critical

        - accepted_values:
            column_name: country
            accepted_values: ['USA', 'UK', 'Canada']
            severity: medium

        - statistical_threshold:
            metric: count
            threshold_type: relative
            threshold_value: 2.0
            window_days: 30
            severity: medium



      level2:
        - distribution_analysis:
            segments: [country, status]
            metrics: [count]
            date_column: created_at
            reference_period: 30
            comparison_period: 7
            behavior_change_threshold: 80
            severity: medium

        # ðŸ“ˆ 2. Temporal analysis â€” signups trend
        - temporal_analysis:
            date_column: created_at
            metrics: [count]
            seasonality_check: true
            anomaly_detection: true
            window_days: 30
            frequency: daily
            severity: medium

        # ðŸ§® 3. Correlation analysis â€” age vs signup recency
        - correlation_analysis:
            variables: [age, created_at]
            expected_correlation: 0.0
            threshold: 0.4
            severity: low
